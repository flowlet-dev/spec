# 家計管理アプリ 要件定義書（MVP / 拡張前提）

## 1. 目的（Why）

自分自身の家計管理を行い、  
収支と資金の流れを記録・把握できるようにする。

- 日々の即時入力より、あとからまとめて入力・振り返ることを重視
- 実際のお金の動きと、目的別の管理の両立を目指す

---

## 2. 想定ユーザー・利用シーン

### ユーザー
- 利用者：自分のみ（個人利用）

### 利用スタイル
- 1日〜数日分をまとめて入力
- 週に数回利用
- スマホ・PCの両方から利用

---

## 3. MVPでできること（Scope）

### 3.1 収支の記録
- 収入・支出を1件ずつ記録できる
- 記録項目
  - 日付
  - 金額
  - 収支区分（収入 / 支出）
  - カテゴリー
  - メモ（任意）

---

### 3.2 カテゴリー別の確認
- 期間内の収支をカテゴリー単位で一覧・合計表示
- 詳細な分析やグラフ表示は行わない

---

### 3.3 給料日ベースの収支確認
- 給料日を起点に期間を区切る
- 「給料日 〜 次の給料日前日」までの収支を確認できる
- 内部的には from / to の期間指定として扱う

---

## 4. 今回やらないこと（Not Scope）

- 複数ユーザー対応
- 予算管理
- グラフ表示
- 編集・削除
- 認証機能
- 定期支払いの自動登録

---

## 5. 将来的にやりたいこと（Future Scope）

### 5.1 分析・運用改善
- 月別・期間別集計
- 編集・削除
- 入力補助（テンプレート・前回入力値）
- CSVエクスポート

### 5.2 資金管理の高度化
- 銀行口座・クレジットカードの管理
- 支払い元・入金先の記録
- 実口座の残高管理
- クレジットカード（負債）の管理
- 目的別の仮想口座管理

### 5.3 定期支払い（将来対応）
- 定期的に発生する収支の登録
- アプリ起動時に未登録分を自動生成
- バックグラウンド処理は行わない

---

## 6. 概念モデル（論理）

### 6.1 Transaction（取引）
- お金が動いた事実を表す
- 日付・金額・収支区分を持つ
- Account / Category / VirtualAccount と関連する

---

### 6.2 Account（実口座）
- 実際にお金が存在、または負債が発生する場所
- 銀行口座、クレジットカード、現金など

---

### 6.3 Category（分類）
- 収支の性質を表す
- 集計・分析の最小単位

---

### 6.4 VirtualAccount（仮想口座）
- お金の目的・用途を管理する概念
- 実際のお金は存在しない
- 実口座とは独立して管理する

---

## 7. 設計方針

- 生データのみを保持し、集計結果は保存しない
- 期間指定は from / to で統一する
- 実口座（Account）と目的（VirtualAccount）を分離する
- 設定情報（給料日など）は取引データと分離する
- 将来拡張を前提とし、今はUIに出さない概念もDBには持たせる

---

## 8. MVP完成の定義（Done）

以下を満たした時点で MVP 完成とする。

- 収支を登録できる
- 給料日ベースで一覧・合計を確認できる
- カテゴリー別の合計が確認できる
