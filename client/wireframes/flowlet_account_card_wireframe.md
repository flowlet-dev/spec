# FLOWLET 口座・カード管理画面 ワイヤーフレーム

## 1. PC版レイアウト(口座タブ)

```
┌─────────────────────────────────────────────────────────────────────┐
│ FLOWLET                                    [ユーザー名] [設定] [⚙]  │
├──────────┬──────────────────────────────────────────────────────────┤
│          │                                                          │
│ ナビゲー  │  ┌─────────────────────────────────────────────────┐   │
│ ション   │  │ 口座・カード管理                                 │   │
│          │  └─────────────────────────────────────────────────┘   │
│ 🏠 ホーム │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│ 💰 取引   │  │ [口座]  カード                                   │  │
│  - 入力  │  └──────────────────────────────────────────────────┘  │
│  - 履歴  │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│ 📊 予算   │  │ 口座一覧                          [+ 口座を追加]  │  │
│          │  └──────────────────────────────────────────────────┘  │
│ 🎯 貯金   │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│ 🏦 口座   │  │ みずほ銀行メイン口座              [編集] [削除]  │  │
│ カード   │  │                                                  │  │
│          │  │ 初期残高: ¥100,000                               │  │
│ 📁 カテゴリ│  │ 現在残高: ¥250,000                               │  │
│          │  │ 種類: 通常口座                                   │  │
│ 🔄 繰返支出│  └──────────────────────────────────────────────────┘  │
│          │                                                          │
│ 📈 レポート│  ┌──────────────────────────────────────────────────┐  │
│          │  │ 貯金用口座                        [編集] [削除]  │  │
│ ⚙ 設定    │  │                                                  │  │
│          │  │ 初期残高: ¥0                                     │  │
│          │  │ 現在残高: ¥1,500,000                             │  │
│          │  │ 種類: 貯金用口座 🎯                              │  │
│          │  │                                                  │  │
│          │  │ 貯金目標:                                        │  │
│          │  │ • 旅行貯金: ¥300,000                            │  │
│          │  │ • 車購入: ¥800,000                              │  │
│          │  │ • 未割り当て: ¥400,000                          │  │
│          │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│          │  │ 三菱UFJ引き落とし専用口座         [編集] [削除]  │  │
│          │  │                                                  │  │
│          │  │ 初期残高: ¥50,000                                │  │
│          │  │ 現在残高: ¥30,000                                │  │
│          │  │ 種類: 通常口座                                   │  │
│          │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
└──────────┴──────────────────────────────────────────────────────────┘
```

---

## 2. PC版レイアウト(カードタブ)

```
┌─────────────────────────────────────────────────────────────────────┐
│ FLOWLET                                    [ユーザー名] [設定] [⚙]  │
├──────────┬──────────────────────────────────────────────────────────┤
│          │                                                          │
│ ナビゲー  │  ┌─────────────────────────────────────────────────┐   │
│ ション   │  │ 口座・カード管理                                 │   │
│          │  └─────────────────────────────────────────────────┘   │
│ 🏠 ホーム │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│ 💰 取引   │  │  口座  [カード]                                  │  │
│  - 入力  │  └──────────────────────────────────────────────────┘  │
│  - 履歴  │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│ 📊 予算   │  │ クレジットカード一覧              [+ カードを追加]│  │
│          │  └──────────────────────────────────────────────────┘  │
│ 🎯 貯金   │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│ 🏦 口座   │  │ 楽天カード                        [編集] [削除]  │  │
│ カード   │  │                                                  │  │
│          │  │ 引き落とし口座: みずほ銀行メイン口座             │  │
│ 📁 カテゴリ│  │ 締め日: 月末                                     │  │
│          │  │ 引き落とし日: 毎月27日(翌営業日)                 │  │
│ 🔄 繰返支出│  │                                                  │  │
│          │  │ 今月利用額: ¥85,000                              │  │
│ 📈 レポート│  │ 次回引き落とし: 2024/02/27  ¥120,000            │  │
│          │  │ 引き落とし口座残高: ¥250,000                     │  │
│ ⚙ 設定    │  │ 追加で必要な金額: ¥0  ✓                         │  │
│          │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│          │  │ 三井住友カード                    [編集] [削除]  │  │
│          │  │                                                  │  │
│          │  │ 引き落とし口座: 三菱UFJ引き落とし専用口座        │  │
│          │  │ 締め日: 15日                                     │  │
│          │  │ 引き落とし日: 翌月10日(変更なし)                 │  │
│          │  │                                                  │  │
│          │  │ 今月利用額: ¥45,000                              │  │
│          │  │ 次回引き落とし: 2024/02/10  ¥50,000             │  │
│          │  │ 引き落とし口座残高: ¥30,000                      │  │
│          │  │ 追加で必要な金額: ¥20,000  ⚠️                   │  │
│          │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
└──────────┴──────────────────────────────────────────────────────────┘
```

---

## 3. 口座編集モーダル(PC版)

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│     ┌───────────────────────────────────────────────────┐           │
│     │ 口座編集                                  [× 閉じる]│           │
│     ├───────────────────────────────────────────────────┤           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ 口座名                                      │  │           │
│     │ │ [みずほ銀行メイン口座______________]        │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ 初期残高 (変更不可)                         │  │           │
│     │ │ ¥100,000                                    │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ 現在残高 (自動計算)                         │  │           │
│     │ │ ¥250,000                                    │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ 種類                                        │  │           │
│     │ │ ○ 通常口座                                  │  │           │
│     │ │ ● 貯金用口座                                │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │         [キャンセル]     [保存する]        │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     └───────────────────────────────────────────────────┘           │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 4. カード編集モーダル(PC版)

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│     ┌───────────────────────────────────────────────────┐           │
│     │ クレジットカード編集                      [× 閉じる]│           │
│     ├───────────────────────────────────────────────────┤           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ カード名                                    │  │           │
│     │ │ [楽天カード__________________]              │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ 引き落とし口座                              │  │           │
│     │ │ [みずほ銀行メイン口座 ▼]                   │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ 締め日                                      │  │           │
│     │ │ ○ 毎月 [__] 日                             │  │           │
│     │ │ ● 月末                                      │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ 引き落とし日                                │  │           │
│     │ │ 毎月 [27] 日                                │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ 土日祝の扱い                                │  │           │
│     │ │ [翌営業日 ▼]                                │  │           │
│     │ │  - 翌営業日                                 │  │           │
│     │ │  - 前営業日                                 │  │           │
│     │ │  - 変更なし                                 │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │         [キャンセル]     [保存する]        │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     └───────────────────────────────────────────────────┘           │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 5. スマホ版レイアウト(口座タブ)

```
┌─────────────────────────┐
│ ← 口座・カード管理      │
├─────────────────────────┤
│                         │
│ [口座]  カード          │
│                         │
│           [+ 口座を追加]│
│                         │
│ ┌─────────────────────┐ │
│ │ みずほ銀行   [編集] │ │
│ │ メイン口座          │ │
│ │                     │ │
│ │ 初期: ¥100,000      │ │
│ │ 現在: ¥250,000      │ │
│ │ 通常口座            │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 貯金用口座   [編集] │ │
│ │              🎯     │ │
│ │                     │ │
│ │ 初期: ¥0            │ │
│ │ 現在: ¥1,500,000    │ │
│ │ 貯金用口座          │ │
│ │                     │ │
│ │ 貯金目標:           │ │
│ │ • 旅行: ¥300,000    │ │
│ │ • 車: ¥800,000      │ │
│ │ • 未割当: ¥400,000  │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 三菱UFJ      [編集] │ │
│ │ 引き落とし専用      │ │
│ │                     │ │
│ │ 初期: ¥50,000       │ │
│ │ 現在: ¥30,000       │ │
│ │ 通常口座            │ │
│ └─────────────────────┘ │
│                         │
└─────────────────────────┘
```

---

## 6. スマホ版レイアウト(カードタブ)

```
┌─────────────────────────┐
│ ← 口座・カード管理      │
├─────────────────────────┤
│                         │
│  口座  [カード]         │
│                         │
│         [+ カードを追加]│
│                         │
│ ┌─────────────────────┐ │
│ │ 楽天カード   [編集] │ │
│ │                     │ │
│ │ 引落: みずほ銀行    │ │
│ │ 締日: 月末          │ │
│ │ 引落日: 27日(翌営業)│ │
│ │                     │ │
│ │ 今月利用: ¥85,000   │ │
│ │                     │ │
│ │ 次回引落:           │ │
│ │ 2/27 ¥120,000       │ │
│ │                     │ │
│ │ 口座残高: ¥250,000  │ │
│ │ 不足額: ¥0  ✓       │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 三井住友     [編集] │ │
│ │ カード              │ │
│ │                     │ │
│ │ 引落: 三菱UFJ       │ │
│ │ 締日: 15日          │ │
│ │ 引落日: 10日(変更無)│ │
│ │                     │ │
│ │ 今月利用: ¥45,000   │ │
│ │                     │ │
│ │ 次回引落:           │ │
│ │ 2/10 ¥50,000        │ │
│ │                     │ │
│ │ 口座残高: ¥30,000   │ │
│ │ 不足額: ¥20,000 ⚠️  │ │
│ └─────────────────────┘ │
│                         │
└─────────────────────────┘
```

---

## 7. 口座編集画面(スマホ版)

```
┌─────────────────────────┐
│ ← 口座編集              │
├─────────────────────────┤
│                         │
│ 口座名                  │
│ ┌─────────────────────┐ │
│ │ みずほ銀行          │ │
│ │ メイン口座          │ │
│ └─────────────────────┘ │
│                         │
│ 初期残高 (変更不可)     │
│ ┌─────────────────────┐ │
│ │ ¥100,000            │ │
│ └─────────────────────┘ │
│                         │
│ 現在残高 (自動計算)     │
│ ┌─────────────────────┐ │
│ │ ¥250,000            │ │
│ └─────────────────────┘ │
│                         │
│ 種類                    │
│ ○ 通常口座              │
│ ● 貯金用口座            │
│                         │
│ ┌─────────────────────┐ │
│ │   [キャンセル]      │ │
│ └─────────────────────┘ │
│ ┌─────────────────────┐ │
│ │   [保存する]        │ │
│ └─────────────────────┘ │
│ ┌─────────────────────┐ │
│ │   [削除する]        │ │
│ └─────────────────────┘ │
│                         │
└─────────────────────────┘
```

---

## 8. UI仕様

### 口座タブ
- 口座一覧をカード形式で表示
- 貯金用口座には目標アイコン(🎯)表示
- 貯金目標がある場合は内訳を表示

### カードタブ
- カード一覧をカード形式で表示
- 今月利用額と次回引き落とし情報
- 不足額がある場合は赤色で警告表示

### 残高表示
- 初期残高: 変更不可(参照のみ)
- 現在残高: 取引から自動計算(変更不可)

### 不足額の計算
- 引き落とし予定額 - 引き落とし口座残高
- マイナスの場合は0表示
- プラスの場合は警告表示

---

## 9. 機能詳細

### 口座一覧取得
- API: `GET /api/accounts`

### 口座作成
- API: `POST /api/accounts`
- 初期残高を設定(後から変更不可)
- 種類を選択(通常/貯金用)

### 口座更新
- API: `PUT /api/accounts/{accountId}`
- 口座名と種類のみ更新可能
- 残高は変更不可

### 口座削除
- API: `DELETE /api/accounts/{accountId}`
- 取引がある場合は削除不可
- 確認ダイアログ表示

### カード一覧取得
- API: `GET /api/credit-cards`
- 利用状況も同時取得: `GET /api/credit-cards/{creditCardId}/usage`

### カード作成
- API: `POST /api/credit-cards`
- 引き落とし口座、締め日、引き落とし日を設定

### カード更新
- API: `PUT /api/credit-cards/{creditCardId}`
- 全項目更新可能

### カード削除
- API: `DELETE /api/credit-cards/{creditCardId}`
- 取引がある場合は削除不可

---

## 10. バリデーション

### 口座
- 口座名: 必須、100文字以内
- 初期残高: 必須、数値
- 種類: 必須

### カード
- カード名: 必須、100文字以内
- 引き落とし口座: 必須、存在する口座ID
- 締め日: 必須、1-31または月末
- 引き落とし日: 必須、1-31
- 土日祝の扱い: 必須

---

## 11. インタラクション

### PC版
- タブ切り替え: 口座/カード
- カードホバー: 軽くハイライト
- [編集]ボタン: モーダル表示
- [削除]ボタン: 確認ダイアログ

### スマホ版
- タブ切り替え: タップ
- カードタップ: 詳細表示(展開)
- [編集]ボタン: 編集画面へ遷移

---

## 12. エッジケース

### 口座がない場合
```
┌─────────────────────────┐
│                         │
│    🏦                   │
│                         │
│  まだ口座が登録されて    │
│  いません               │
│                         │
│  [口座を追加]           │
│                         │
└─────────────────────────┘
```

### 引き落とし不足がある場合
- カード全体を赤枠で強調
- 不足額を赤字で表示
- ⚠️アイコン表示

---

このワイヤーフレームで問題ないですか?

次は**貯金目標画面**を作成します