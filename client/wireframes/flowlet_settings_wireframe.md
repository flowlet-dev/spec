# FLOWLET アプリ設定画面 ワイヤーフレーム

## 1. PC版レイアウト

```
┌─────────────────────────────────────────────────────────────────────┐
│ FLOWLET                                    [ユーザー名] [設定] [⚙]  │
├──────────┬──────────────────────────────────────────────────────────┤
│          │                                                          │
│ ナビゲー  │  ┌─────────────────────────────────────────────────┐   │
│ ション   │  │ アプリ設定                                       │   │
│          │  └─────────────────────────────────────────────────┘   │
│ 🏠 ホーム │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│ 💰 取引   │  │ 給料日設定                                        │  │
│  - 入力  │  └──────────────────────────────────────────────────┘  │
│  - 履歴  │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│ 📊 予算   │  │ 給料日                                            │  │
│          │  │ ┌────────────────────────────────────────────┐  │  │
│ 🎯 貯金   │  │ │ 毎月 [25] 日                               │  │  │
│          │  │ └────────────────────────────────────────────┘  │  │
│ 🏦 口座   │  │                                                  │  │
│ カード   │  │ ※ 土日祝の場合は前営業日に自動調整されます      │  │
│          │  └──────────────────────────────────────────────────┘  │
│ 📁 カテゴリ│                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│ 🔄 繰返支出│  │ サイクル情報                                      │  │
│          │  │                                                  │  │
│ 📈 レポート│  │ 現在のサイクル:                                  │  │
│          │  │ 2024/01/25 - 2024/02/24                          │  │
│ ⚙ 設定    │  │ (残り15日)                                       │  │
│          │  │                                                  │  │
│          │  │ 次のサイクル:                                    │  │
│          │  │ 2024/02/25 - 2024/03/24                          │  │
│          │  │ (29日間)                                         │  │
│          │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│          │  │ データ管理                                        │  │
│          │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│          │  │ データ保持期間                                    │  │
│          │  │                                                  │  │
│          │  │ 現在のデータ: 256件の取引                        │  │
│          │  │ 最古のデータ: 2023/01/15                         │  │
│          │  │                                                  │  │
│          │  │ ⚠️ データ削除機能は現在未実装です               │  │
│          │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│          │  │ アプリ情報                                        │  │
│          │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│          │  │ バージョン: 1.0.0                                 │  │
│          │  │ 最終更新: 2024/01/25                             │  │
│          │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│          │  │                [保存する]                        │  │
│          │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
└──────────┴──────────────────────────────────────────────────────────┘
```

---

## 2. スマホ版レイアウト

```
┌─────────────────────────┐
│ ← アプリ設定            │
├─────────────────────────┤
│                         │
│ 給料日設定              │
│                         │
│ 給料日                  │
│ ┌─────────────────────┐ │
│ │ 毎月 [__] 日        │ │
│ └─────────────────────┘ │
│                         │
│ ※ 土日祝の場合は        │
│   前営業日に自動調整    │
│                         │
│ ┌─────────────────────┐ │
│ │ サイクル情報        │ │
│ │                     │ │
│ │ 現在のサイクル:     │ │
│ │ 2024/01/25 -        │ │
│ │ 2024/02/24          │ │
│ │ (残り15日)          │ │
│ │                     │ │
│ │ 次のサイクル:       │ │
│ │ 2024/02/25 -        │ │
│ │ 2024/03/24          │ │
│ │ (29日間)            │ │
│ └─────────────────────┘ │
│                         │
│ データ管理              │
│                         │
│ ┌─────────────────────┐ │
│ │ データ保持期間      │ │
│ │                     │ │
│ │ 現在のデータ:       │ │
│ │ 256件の取引         │ │
│ │                     │ │
│ │ 最古のデータ:       │ │
│ │ 2023/01/15          │ │
│ │                     │ │
│ │ ⚠️ データ削除機能は │ │
│ │   現在未実装です    │ │
│ └─────────────────────┘ │
│                         │
│ アプリ情報              │
│                         │
│ ┌─────────────────────┐ │
│ │ バージョン: 1.0.0   │ │
│ │ 最終更新:           │ │
│ │ 2024/01/25          │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │   [保存する]        │ │
│ └─────────────────────┘ │
│                         │
└─────────────────────────┘
```

---

## 3. UI仕様

### 給料日設定
- 1〜31の数値を入力
- 土日祝の扱いは固定(前営業日)
- 変更時は確認ダイアログ表示

### サイクル情報
- 現在のサイクルと次のサイクルを表示
- 給料日から自動計算
- 参照のみ(編集不可)

### データ管理
- 現在保存されているデータ件数を表示
- 最古のデータ日付を表示
- データ削除機能は将来実装予定

### アプリ情報
- バージョン番号
- 最終更新日
- 参照のみ

---

## 4. 機能詳細

### 設定取得
- API: `GET /api/app-settings`

### 設定更新
- API: `PUT /api/app-settings`
- 給料日のみ変更可能

### サイクル情報取得
- API: `GET /api/cycles/current`
- 給料日設定から自動計算

---

## 5. バリデーション

### 給料日
- 必須
- 1〜31の整数
- 31日に設定した場合、2月は28/29日になる旨を注意表示

---

## 6. 給料日変更時の確認ダイアログ

```
┌─────────────────────────────────────┐
│ 給料日を変更                        │
├─────────────────────────────────────┤
│                                     │
│ 給料日を 25日 → 27日 に変更します  │
│                                     │
│ ⚠️ 注意事項:                       │
│ • サイクル期間が変わります         │
│ • 既存の予算設定には影響しません   │
│ • 次回以降のサイクルから適用されます│
│                                     │
│ [キャンセル]  [変更する]            │
└─────────────────────────────────────┘
```

---

## 7. インタラクション

### PC版
- 給料日入力: テキストフィールド
- [保存する]ボタン: 確認ダイアログ → API呼び出し

### スマホ版
- 給料日入力: 数値キーボード
- [保存する]ボタン: 確認ダイアログ → API呼び出し

---

## 8. 将来的な拡張機能(オプション)

### テーマ設定
```
┌─────────────────────────┐
│ 表示設定                │
│                         │
│ テーマ                  │
│ ○ ライト                │
│ ● ダーク                │
│ ○ システム設定に従う    │
└─────────────────────────┘
```

### 通知設定
```
┌─────────────────────────┐
│ 通知設定                │
│                         │
│ ☑ 予算超過時に通知      │
│ ☑ 繰り返し支出の通知    │
│ ☐ 月次レポート通知      │
└─────────────────────────┘
```

### データエクスポート
```
┌─────────────────────────┐
│ データ管理              │
│                         │
│ [データをエクスポート]  │
│ (CSV形式でダウンロード) │
│                         │
│ [データをインポート]    │
│ (CSV形式からインポート) │
└─────────────────────────┘
```

### 認証設定(ログイン機能実装後)
```
┌─────────────────────────┐
│ アカウント設定          │
│                         │
│ ユーザー名              │
│ ┌─────────────────────┐ │
│ │ user@example.com    │ │
│ └─────────────────────┘ │
│                         │
│ [パスワード変更]        │
│ [ログアウト]            │
└─────────────────────────┘
```

---

## 9. エッジケース

### 給料日が31日の場合
```
┌─────────────────────────┐
│ ℹ️ 注意                 │
│                         │
│ 給料日を31日に設定      │
│ しました。              │
│                         │
│ 31日がない月(2月など)は │
│ その月の最終日が給料日  │
│ になります。            │
│                         │
│ [OK]                    │
└─────────────────────────┘
```

---

これで全10画面のワイヤーフレームが完成しました!

1. ✅ ダッシュボード
2. ✅ 取引入力
3. ✅ 取引履歴
4. ✅ 予算設定
5. ✅ 口座・カード管理
6. ✅ 貯金目標
7. ✅ カテゴリ管理
8. ✅ 繰り返し支出設定
9. ✅ 統計・レポート
10. ✅ アプリ設定

次は、これらのワイヤーフレームを**画面設計書**としてまとめますか?