# FLOWLET 貯金目標画面 ワイヤーフレーム

## 1. PC版レイアウト

```
┌─────────────────────────────────────────────────────────────────────┐
│ FLOWLET                                    [ユーザー名] [設定] [⚙]  │
├──────────┬──────────────────────────────────────────────────────────┤
│          │                                                          │
│ ナビゲー  │  ┌─────────────────────────────────────────────────┐   │
│ ション   │  │ 貯金目標                                         │   │
│          │  └─────────────────────────────────────────────────┘   │
│ 🏠 ホーム │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│ 💰 取引   │  │ 貯金用口座サマリー                                │  │
│  - 入力  │  └──────────────────────────────────────────────────┘  │
│  - 履歴  │                                                          │
│          │  ┌────────────────────┬──────────────────────────────┐  │
│ 📊 予算   │  │ 三菱UFJ貯金用      │ ゆうちょ貯金用               │  │
│          │  │                    │                              │  │
│ 🎯 貯金   │  │ 総残高: ¥1,200,000 │ 総残高: ¥300,000             │  │
│          │  │ 割当額: ¥1,100,000 │ 割当額: ¥150,000             │  │
│ 🏦 口座   │  │ 未割当: ¥100,000   │ 未割当: ¥150,000             │  │
│ カード   │  │                    │                              │  │
│          │  │ ━━━━━━━━━━━━━━━ │ ━━━━━━━━━━━━━━━            │  │
│ 📁 カテゴリ│  │ 割当率: 91.7%      │ 割当率: 50%                  │  │
│          │  └────────────────────┴──────────────────────────────┘  │
│ 🔄 繰返支出│                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│ 📈 レポート│  │ 貯金目標一覧                      [+ 目標を追加]  │  │
│          │  └──────────────────────────────────────────────────┘  │
│ ⚙ 設定    │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│          │  │ 旅行貯金                          [編集] [削除]  │  │
│          │  │ 貯金用口座: 三菱UFJ貯金用                        │  │
│          │  │                                                  │  │
│          │  │ 目標額: ¥500,000                                 │  │
│          │  │ 現在額: ¥300,000                                 │  │
│          │  │ 達成率: ━━━━━━━━━━━━━━━━━━━━ 60%            │  │
│          │  │ 残り: ¥200,000                                   │  │
│          │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│          │  │ 車購入                            [編集] [削除]  │  │
│          │  │ 貯金用口座: 三菱UFJ貯金用                        │  │
│          │  │                                                  │  │
│          │  │ 目標額: ¥2,000,000                               │  │
│          │  │ 現在額: ¥800,000                                 │  │
│          │  │ 達成率: ━━━━━━━━━━━━━ 40%                    │  │
│          │  │ 残り: ¥1,200,000                                 │  │
│          │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│          │  │ 緊急資金                          [編集] [削除]  │  │
│          │  │ 貯金用口座: ゆうちょ貯金用                       │  │
│          │  │                                                  │  │
│          │  │ 目標額: なし (退避用)                            │  │
│          │  │ 現在額: ¥150,000                                 │  │
│          │  │ 達成率: -                                        │  │
│          │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
└──────────┴──────────────────────────────────────────────────────────┘
```

---

## 2. 目標編集モーダル(PC版)

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│     ┌───────────────────────────────────────────────────┐           │
│     │ 貯金目標編集                              [× 閉じる]│           │
│     ├───────────────────────────────────────────────────┤           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ 目標名                                      │  │           │
│     │ │ [旅行貯金__________________]                │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ 貯金用口座                                  │  │           │
│     │ │ [三菱UFJ貯金用 ▼]                           │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ 目標額                                      │  │           │
│     │ │ ☑ 目標額を設定する                         │  │           │
│     │ │ ¥ [500,000]                                 │  │           │
│     │ │                                             │  │           │
│     │ │ ☐ 目標額なし (退避用)                      │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ 現在の積立額 (自動計算)                     │  │           │
│     │ │ ¥300,000                                    │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │         [キャンセル]     [保存する]        │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     └───────────────────────────────────────────────────┘           │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 3. スマホ版レイアウト

```
┌─────────────────────────┐
│ ← 貯金目標              │
├─────────────────────────┤
│                         │
│ 貯金用口座サマリー      │
│                         │
│ ┌─────────────────────┐ │
│ │ 三菱UFJ貯金用       │ │
│ │                     │ │
│ │ 総残高: ¥1,200,000  │ │
│ │ 割当額: ¥1,100,000  │ │
│ │ 未割当: ¥100,000    │ │
│ │ ━━━━━━━━━━━━ 91.7%│ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ ゆうちょ貯金用      │ │
│ │                     │ │
│ │ 総残高: ¥300,000    │ │
│ │ 割当額: ¥150,000    │ │
│ │ 未割当: ¥150,000    │ │
│ │ ━━━━━━━━ 50%      │ │
│ └─────────────────────┘ │
│                         │
│ 貯金目標一覧            │
│          [+ 目標を追加] │
│                         │
│ ┌─────────────────────┐ │
│ │ 旅行貯金     [編集] │ │
│ │ 三菱UFJ貯金用       │ │
│ │                     │ │
│ │ 目標: ¥500,000      │ │
│ │ 現在: ¥300,000      │ │
│ │ 残り: ¥200,000      │ │
│ │ ━━━━━━━━━━━━ 60% │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 車購入       [編集] │ │
│ │ 三菱UFJ貯金用       │ │
│ │                     │ │
│ │ 目標: ¥2,000,000    │ │
│ │ 現在: ¥800,000      │ │
│ │ 残り: ¥1,200,000    │ │
│ │ ━━━━━━━ 40%       │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 緊急資金     [編集] │ │
│ │ ゆうちょ貯金用      │ │
│ │                     │ │
│ │ 目標: なし (退避用) │ │
│ │ 現在: ¥150,000      │ │
│ └─────────────────────┘ │
│                         │
└─────────────────────────┘
```

---

## 4. 目標編集画面(スマホ版)

```
┌─────────────────────────┐
│ ← 貯金目標編集          │
├─────────────────────────┤
│                         │
│ 目標名                  │
│ ┌─────────────────────┐ │
│ │ 旅行貯金            │ │
│ └─────────────────────┘ │
│                         │
│ 貯金用口座              │
│ ┌─────────────────────┐ │
│ │ 三菱UFJ貯金用 ▼     │ │
│ └─────────────────────┘ │
│                         │
│ 目標額                  │
│ ☑ 目標額を設定する      │
│ ┌─────────────────────┐ │
│ │ ¥ _____________     │ │
│ └─────────────────────┘ │
│                         │
│ ☐ 目標額なし (退避用)   │
│                         │
│ 現在の積立額 (自動計算) │
│ ┌─────────────────────┐ │
│ │ ¥300,000            │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │   [キャンセル]      │ │
│ └─────────────────────┘ │
│ ┌─────────────────────┐ │
│ │   [保存する]        │ │
│ └─────────────────────┘ │
│ ┌─────────────────────┐ │
│ │   [削除する]        │ │
│ └─────────────────────┘ │
│                         │
└─────────────────────────┘
```

---

## 5. UI仕様

### 貯金用口座サマリー
- 各貯金用口座ごとに表示
- 総残高、割当額、未割当額を表示
- 割当率をプログレスバーで視覚化

### 貯金目標一覧
- 口座ごとにグループ化(オプション)
- または全目標を一覧表示
- 達成率をプログレスバーで表示

### 目標額あり/なし
- チェックボックスで切り替え
- 目標額なしの場合は達成率を表示しない

### プログレスバー色分け
- 0-50%: 青色
- 50-80%: 緑色
- 80-99%: 黄色
- 100%: 金色 ✨

### 現在額の計算
- 口座間移動時の割り当て額を合計
- 自動計算(変更不可)

---

## 6. 機能詳細

### サマリー取得
- API: `GET /api/savings-goals/summary`
- 全貯金用口座の情報を取得

### 目標一覧取得
- API: `GET /api/savings-goals`

### 目標作成
- API: `POST /api/savings-goals`
- 貯金用口座を選択(必須)
- 目標額を設定(任意)

### 目標更新
- API: `PUT /api/savings-goals/{savingsGoalId}`
- 目標名、貯金用口座、目標額を変更可能
- 現在額は変更不可

### 目標削除
- API: `DELETE /api/savings-goals/{savingsGoalId}`
- 現在額が0より大きい場合は削除不可
- 確認ダイアログ表示

### 目標額の変更
- チェックボックスで「目標額を設定する」ON/OFF
- OFFの場合は目標額をnullに設定

---

## 7. バリデーション

### 目標名
- 必須
- 100文字以内

### 貯金用口座
- 必須
- `isSavingsAccount = true` の口座のみ選択可能

### 目標額
- 任意(チェックボックスOFFの場合はnull)
- 設定する場合は0より大きい数値

### 削除時チェック
- 現在額 > 0 の場合は削除不可
- エラーメッセージ: 「現在額が残っている目標は削除できません」

---

## 8. インタラクション

### PC版
- カードホバー: 軽くハイライト
- [編集]ボタン: モーダル表示
- [削除]ボタン: 確認ダイアログ
- プログレスバーホバー: ツールチップで詳細表示

### スマホ版
- カードタップ: 詳細表示(展開)
- [編集]ボタン: 編集画面へ遷移
- 目標カードを長押し: クイックアクションメニュー(編集/削除)

### 共通
- 達成率100%到達時: 🎉エフェクト表示(オプション)

---

## 9. 追加機能(オプション)

### 目標達成予測
```
┌─────────────────────────┐
│ 旅行貯金                │
│                         │
│ 目標: ¥500,000          │
│ 現在: ¥300,000          │
│ 残り: ¥200,000          │
│                         │
│ 📊 達成予測:            │
│ 月平均: ¥50,000         │
│ 予想達成: 4ヶ月後       │
│ (2024年5月)             │
└─────────────────────────┘
```

### 貯金履歴
- 各目標への過去の割り当て履歴を表示
- グラフで推移を表示

---

## 10. エッジケース

### 目標がない場合
```
┌─────────────────────────┐
│                         │
│    🎯                   │
│                         │
│  まだ貯金目標が設定     │
│  されていません         │
│                         │
│  [目標を追加]           │
│                         │
└─────────────────────────┘
```

### 貯金用口座がない場合
```
┌─────────────────────────┐
│                         │
│    ⚠️                   │
│                         │
│  貯金用口座がありません  │
│                         │
│  貯金目標を作成するには  │
│  まず貯金用口座を        │
│  作成してください        │
│                         │
│  [口座を作成]           │
│                         │
└─────────────────────────┘
```

### 目標達成時
```
┌─────────────────────────┐
│ 旅行貯金         [編集] │
│                  🎉     │
│                         │
│ 目標達成！              │
│ 目標: ¥500,000          │
│ 現在: ¥500,000          │
│ ━━━━━━━━━━━━━━━ 100% │
│                         │
│ おめでとうございます！  │
└─────────────────────────┘
```

---

このワイヤーフレームで問題ないですか?

次は残りの画面(カテゴリ管理、繰り返し支出設定、統計・レポート、アプリ設定)を続けて作成しますね!