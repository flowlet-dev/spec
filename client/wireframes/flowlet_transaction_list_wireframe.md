# FLOWLET 取引履歴画面 ワイヤーフレーム

## 1. PC版レイアウト

```
┌─────────────────────────────────────────────────────────────────────┐
│ FLOWLET                                    [ユーザー名] [設定] [⚙]  │
├──────────┬──────────────────────────────────────────────────────────┤
│          │                                                          │
│ ナビゲー  │  ┌─────────────────────────────────────────────────┐   │
│ ション   │  │ 取引履歴                          [+ 取引を追加]  │   │
│          │  └─────────────────────────────────────────────────┘   │
│ 🏠 ホーム │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│ 💰 取引   │  │ フィルター                    [フィルタークリア] │  │
│  - 入力  │  │                                                  │  │
│  - 履歴  │  │ 期間: [2024-01-01] 〜 [2024-01-31]  [今月] [全期間]│
│          │  │                                                  │  │
│ 📊 予算   │  │ タイプ: [すべて ▼]  カテゴリ: [すべて ▼]       │  │
│          │  │                                                  │  │
│ 🎯 貯金   │  │ 口座: [すべて ▼]  カード: [すべて ▼]           │  │
│          │  │                                                  │  │
│ 🏦 口座   │  │ キーワード: [_____________] 🔍                  │  │
│ カード   │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
│ 📁 カテゴリ│  ┌──────────────────────────────────────────────────┐  │
│          │  │ 集計: 収入 ¥300,000 | 支出 ¥120,000 | 収支 ¥180,000│
│ 🔄 繰返支出│  └──────────────────────────────────────────────────┘  │
│          │                                                          │
│ 📈 レポート│  ┌──────────────────────────────────────────────────┐  │
│          │  │ 日付     │タイプ│カテゴリ│金額     │口座/カード│操作│
│ ⚙ 設定    │  ├─────────┼─────┼────────┼─────────┼──────────┼───┤
│          │  │01/25    │収入  │給与    │¥300,000 │みずほ銀行│📝🗑│
│          │  ├─────────┼─────┼────────┼─────────┼──────────┼───┤
│          │  │01/25    │移動  │-       │¥100,000 │みずほ→貯金│📝🗑│
│          │  ├─────────┼─────┼────────┼─────────┼──────────┼───┤
│          │  │01/20    │支出  │食料品  │¥5,000   │楽天カード│📝🗑│
│          │  ├─────────┼─────┼────────┼─────────┼──────────┼───┤
│          │  │01/18    │支出  │外食    │¥3,500   │みずほ銀行│📝🗑│
│          │  ├─────────┼─────┼────────┼─────────┼──────────┼───┤
│          │  │01/15    │支出  │交通費  │¥2,000   │楽天カード│📝🗑│
│          │  ├─────────┼─────┼────────┼─────────┼──────────┼───┤
│          │  │01/10    │支出  │光熱費  │¥8,000   │みずほ銀行│📝🗑│
│          │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
│          │  ┌──────────────────────────────────────────────────┐  │
│          │  │          [前へ]  1 / 5  [次へ]    20件/ページ ▼  │  │
│          │  └──────────────────────────────────────────────────┘  │
│          │                                                          │
└──────────┴──────────────────────────────────────────────────────────┘
```

---

## 2. 取引詳細・編集モーダル(PC版)

```
┌─────────────────────────────────────────────────────────────────────┐
│                                                                     │
│     ┌───────────────────────────────────────────────────┐           │
│     │ 取引詳細・編集                            [× 閉じる]│           │
│     ├───────────────────────────────────────────────────┤           │
│     │                                                   │           │
│     │ 取引ID: TRX0001234                                │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ 日付                                        │  │           │
│     │ │ [2024-01-20      ] 📅                      │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ タイプ: 支出                                │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ 金額                                        │  │           │
│     │ │ ¥ [5,000]                                   │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ カテゴリ                                    │  │           │
│     │ │ [食費 ▼]  →  [食料品 ▼]                   │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ 支払方法                                    │  │           │
│     │ │ ● カード [楽天カード ▼]                    │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │ メモ                                        │  │           │
│     │ │ [スーパーで買い物________________]          │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     │ 作成日時: 2024-01-20 10:30:00                     │           │
│     │ 更新日時: 2024-01-20 10:30:00                     │           │
│     │                                                   │           │
│     │ ┌─────────────────────────────────────────────┐  │           │
│     │ │   [削除]     [キャンセル]     [更新する]   │  │           │
│     │ └─────────────────────────────────────────────┘  │           │
│     │                                                   │           │
│     └───────────────────────────────────────────────────┘           │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 3. スマホ版レイアウト

```
┌─────────────────────────┐
│ ← 取引履歴   [+ 追加]   │
├─────────────────────────┤
│                         │
│ [🔍 フィルター]          │
│                         │
│ ┌─────────────────────┐ │
│ │ 集計                │ │
│ │ 収入: ¥300,000      │ │
│ │ 支出: ¥120,000      │ │
│ │ 収支: ¥180,000      │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 01/25  収入         │ │
│ │ 給与                │ │
│ │ ¥300,000            │ │
│ │ みずほ銀行          │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 01/25  口座間移動   │ │
│ │ みずほ銀行→貯金用   │ │
│ │ ¥100,000            │ │
│ │ 🎯 旅行貯金 ¥50,000 │ │
│ │ 🎯 車購入 ¥50,000   │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 01/20  支出         │ │
│ │ 食料品              │ │
│ │ ¥5,000              │ │
│ │ 楽天カード          │ │
│ │ スーパーで買い物    │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 01/18  支出         │ │
│ │ 外食                │ │
│ │ ¥3,500              │ │
│ │ みずほ銀行          │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 01/15  支出         │ │
│ │ 交通費              │ │
│ │ ¥2,000              │ │
│ │ 楽天カード          │ │
│ └─────────────────────┘ │
│                         │
│ [もっと見る]            │
│                         │
└─────────────────────────┘
```

---

## 4. フィルターモーダル(スマホ版)

```
┌─────────────────────────┐
│ ← フィルター  [クリア]  │
├─────────────────────────┤
│                         │
│ 期間                    │
│ ┌─────────────────────┐ │
│ │ 開始日              │ │
│ │ [2024-01-01    ] 📅│ │
│ └─────────────────────┘ │
│ ┌─────────────────────┐ │
│ │ 終了日              │ │
│ │ [2024-01-31    ] 📅│ │
│ └─────────────────────┘ │
│                         │
│ クイック選択            │
│ [今月][先月][今年]      │
│                         │
│ タイプ                  │
│ ┌─────────────────────┐ │
│ │ すべて ▼            │ │
│ └─────────────────────┘ │
│                         │
│ カテゴリ                │
│ ┌─────────────────────┐ │
│ │ すべて ▼            │ │
│ └─────────────────────┘ │
│                         │
│ 口座                    │
│ ┌─────────────────────┐ │
│ │ すべて ▼            │ │
│ └─────────────────────┘ │
│                         │
│ カード                  │
│ ┌─────────────────────┐ │
│ │ すべて ▼            │ │
│ └─────────────────────┘ │
│                         │
│ キーワード              │
│ ┌─────────────────────┐ │
│ │ _______________  🔍│ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │   [適用する]        │ │
│ └─────────────────────┘ │
│                         │
└─────────────────────────┘
```

---

## 5. 取引詳細画面(スマホ版)

```
┌─────────────────────────┐
│ ← 取引詳細     [編集]   │
├─────────────────────────┤
│                         │
│ ┌─────────────────────┐ │
│ │ 支出                │ │
│ │ ¥5,000              │ │
│ │ 2024-01-20          │ │
│ └─────────────────────┘ │
│                         │
│ カテゴリ                │
│ ┌─────────────────────┐ │
│ │ 食費 > 食料品       │ │
│ └─────────────────────┘ │
│                         │
│ 支払方法                │
│ ┌─────────────────────┐ │
│ │ 楽天カード          │ │
│ └─────────────────────┘ │
│                         │
│ メモ                    │
│ ┌─────────────────────┐ │
│ │ スーパーで買い物    │ │
│ └─────────────────────┘ │
│                         │
│ 作成: 2024-01-20 10:30  │
│ 更新: 2024-01-20 10:30  │
│                         │
│ ┌─────────────────────┐ │
│ │   [削除する]        │ │
│ └─────────────────────┘ │
│                         │
└─────────────────────────┘
```

---

## 6. UI仕様

### 一覧表示

**PC版:**
- テーブル形式
- カラム: 日付、タイプ、カテゴリ、金額、口座/カード、操作
- ホバー時: 行全体が薄くハイライト
- クリック: 詳細モーダル表示

**スマホ版:**
- カード形式
- 1件ごとにカード表示
- タップ: 詳細画面へ遷移
- スワイプ: 編集/削除アクション(オプション)

### 取引タイプの表示

- **収入**: 緑色のラベル、金額は緑で表示
- **支出**: 赤色のラベル、金額は赤で表示
- **口座間移動**: 青色のラベル、移動先を表示

### フィルター

**デフォルト表示:**
- 今月の取引のみ表示
- すべてのタイプ・カテゴリ

**フィルター項目:**
- 期間(開始日〜終了日)
- クイック選択(今月、先月、今年、全期間)
- タイプ(収入、支出、口座間移動)
- カテゴリ(大カテゴリ選択で小カテゴリもフィルタ)
- 口座
- クレジットカード
- キーワード(メモ検索)

### ページネーション

**PC版:**
- 1ページあたりの件数選択可能(20, 50, 100件)
- ページ番号表示
- 前へ/次へボタン

**スマホ版:**
- 無限スクロール
- または「もっと見る」ボタン

### 集計表示

- フィルター条件に応じて動的に計算
- 収入合計、支出合計、収支を表示

---

## 7. 機能詳細

### 一覧取得
- API: `GET /api/transactions?startDate=...&endDate=...&page=1&limit=20`
- フィルター条件をクエリパラメータで送信

### 詳細表示
- API: `GET /api/transactions/{transactionId}`
- モーダル/別画面で表示

### 編集
- 詳細モーダル/画面で直接編集
- 取引タイプは変更不可
- API: `PUT /api/transactions/{transactionId}`

### 削除
- 確認ダイアログ表示
- 「本当に削除しますか?この操作は取り消せません」
- API: `DELETE /api/transactions/{transactionId}`
- 成功時: 一覧から削除、集計を再計算

### 検索
- リアルタイム検索またはボタンクリックで実行
- メモのキーワードで部分一致検索

---

## 8. インタラクション

### PC版
- テーブル行クリック: 詳細モーダル表示
- 編集アイコン(📝)クリック: 編集モーダル表示
- 削除アイコン(🗑)クリック: 削除確認ダイアログ

### スマホ版
- カードタップ: 詳細画面へ遷移
- 詳細画面で[編集]ボタン: 編集画面へ遷移
- スワイプアクション(オプション):
  - 右スワイプ: 編集
  - 左スワイプ: 削除

### 共通
- フィルター適用で即座に一覧を更新
- ページネーション: スムーズな遷移

---

## 9. エッジケース

### 取引がない場合
```
┌─────────────────────────┐
│                         │
│    📭                   │
│                         │
│  取引がありません        │
│                         │
│  [取引を追加]           │
│                         │
└─────────────────────────┘
```

### 検索結果がない場合
```
┌─────────────────────────┐
│                         │
│    🔍                   │
│                         │
│  検索結果がありません    │
│                         │
│  [フィルターをクリア]    │
│                         │
└─────────────────────────┘
```

---

このワイヤーフレームで問題ないですか?

次は残りの画面も続けて作成しますか?それとも、ここまでで一旦画面設計書としてまとめますか?